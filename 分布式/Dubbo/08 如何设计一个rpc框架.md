## 如何设计一个类似dubbo的RPC框架？

### 基本思路

1. 需要一个服务注册中心，用来管理服务，感知服务上下线，使用Zookeeper

2. 消费者需要去注册中心获取服务，每个服务可能会存在于多台机器

3. 如何去发起请求，基于动态代理去发起请求，面向接口获取到一个动态代理，这个代理就是接口在本地的一个代理，然后这个代理会找到服务对应的机器地址

4. 使用负载均衡算法，分发请求，最简单的可以随机轮询

5. 找到服务器，怎么去发请求，使用netty，nio方式，发送什么格式，可以基于hessian序列化协议，发送序列化数据

6. 服务器另一边，针对服务生成一个动态代理，监听某个网络端口，然后代理本地的服务代码，接收到请求后，就调用对应的服务代码

   